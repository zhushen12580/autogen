"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5470],{62448:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});var t=s(85893),i=s(11151);const r={sidebar_label:"conversable_agent",title:"agentchat.conversable_agent"},l=void 0,a={id:"reference/agentchat/conversable_agent",title:"agentchat.conversable_agent",description:"ConversableAgent",source:"@site/docs/reference/agentchat/conversable_agent.md",sourceDirName:"reference/agentchat",slug:"/reference/agentchat/conversable_agent",permalink:"/autogen/docs/reference/agentchat/conversable_agent",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/autogen/edit/main/website/docs/reference/agentchat/conversable_agent.md",tags:[],version:"current",frontMatter:{sidebar_label:"conversable_agent",title:"agentchat.conversable_agent"},sidebar:"referenceSideBar",previous:{title:"chat",permalink:"/autogen/docs/reference/agentchat/chat"},next:{title:"groupchat",permalink:"/autogen/docs/reference/agentchat/groupchat"}},c={},o=[{value:"ConversableAgent",id:"conversableagent",level:2},{value:"DEFAULT_CONFIG",id:"default_config",level:4},{value:"MAX_CONSECUTIVE_AUTO_REPLY",id:"max_consecutive_auto_reply",level:4},{value:"__init__",id:"__init__",level:3},{value:"name",id:"name",level:3},{value:"description",id:"description",level:3},{value:"description",id:"description-1",level:3},{value:"code_executor",id:"code_executor",level:3},{value:"register_reply",id:"register_reply",level:3},{value:"replace_reply_func",id:"replace_reply_func",level:3},{value:"register_nested_chats",id:"register_nested_chats",level:3},{value:"system_message",id:"system_message",level:3},{value:"update_system_message",id:"update_system_message",level:3},{value:"update_max_consecutive_auto_reply",id:"update_max_consecutive_auto_reply",level:3},{value:"max_consecutive_auto_reply",id:"max_consecutive_auto_reply-1",level:3},{value:"chat_messages",id:"chat_messages",level:3},{value:"chat_messages_for_summary",id:"chat_messages_for_summary",level:3},{value:"last_message",id:"last_message",level:3},{value:"use_docker",id:"use_docker",level:3},{value:"send",id:"send",level:3},{value:"a_send",id:"a_send",level:3},{value:"receive",id:"receive",level:3},{value:"a_receive",id:"a_receive",level:3},{value:"initiate_chat",id:"initiate_chat",level:3},{value:"a_initiate_chat",id:"a_initiate_chat",level:3},{value:"initiate_chats",id:"initiate_chats",level:3},{value:"get_chat_results",id:"get_chat_results",level:3},{value:"reset",id:"reset",level:3},{value:"stop_reply_at_receive",id:"stop_reply_at_receive",level:3},{value:"reset_consecutive_auto_reply_counter",id:"reset_consecutive_auto_reply_counter",level:3},{value:"clear_history",id:"clear_history",level:3},{value:"generate_oai_reply",id:"generate_oai_reply",level:3},{value:"a_generate_oai_reply",id:"a_generate_oai_reply",level:3},{value:"generate_code_execution_reply",id:"generate_code_execution_reply",level:3},{value:"generate_function_call_reply",id:"generate_function_call_reply",level:3},{value:"a_generate_function_call_reply",id:"a_generate_function_call_reply",level:3},{value:"generate_tool_calls_reply",id:"generate_tool_calls_reply",level:3},{value:"a_generate_tool_calls_reply",id:"a_generate_tool_calls_reply",level:3},{value:"check_termination_and_human_reply",id:"check_termination_and_human_reply",level:3},{value:"a_check_termination_and_human_reply",id:"a_check_termination_and_human_reply",level:3},{value:"generate_reply",id:"generate_reply",level:3},{value:"a_generate_reply",id:"a_generate_reply",level:3},{value:"get_human_input",id:"get_human_input",level:3},{value:"a_get_human_input",id:"a_get_human_input",level:3},{value:"run_code",id:"run_code",level:3},{value:"execute_code_blocks",id:"execute_code_blocks",level:3},{value:"execute_function",id:"execute_function",level:3},{value:"a_execute_function",id:"a_execute_function",level:3},{value:"generate_init_message",id:"generate_init_message",level:3},{value:"a_generate_init_message",id:"a_generate_init_message",level:3},{value:"register_function",id:"register_function",level:3},{value:"update_function_signature",id:"update_function_signature",level:3},{value:"update_tool_signature",id:"update_tool_signature",level:3},{value:"can_execute_function",id:"can_execute_function",level:3},{value:"function_map",id:"function_map",level:3},{value:"register_for_llm",id:"register_for_llm",level:3},{value:"register_for_execution",id:"register_for_execution",level:3},{value:"register_model_client",id:"register_model_client",level:3},{value:"register_hook",id:"register_hook",level:3},{value:"process_all_messages_before_reply",id:"process_all_messages_before_reply",level:3},{value:"process_last_received_message",id:"process_last_received_message",level:3},{value:"print_usage_summary",id:"print_usage_summary",level:3},{value:"get_actual_usage",id:"get_actual_usage",level:3},{value:"get_total_usage",id:"get_total_usage",level:3},{value:"register_function",id:"register_function-1",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"conversableagent",children:"ConversableAgent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class ConversableAgent(LLMAgent)\n"})}),"\n",(0,t.jsx)(n.p,{children:"(In preview) A class for generic conversable agents which can be configured as assistant or user proxy."}),"\n",(0,t.jsx)(n.p,{children:"After receiving each message, the agent will send a reply to the sender unless the msg is a termination msg.\nFor example, AssistantAgent and UserProxyAgent are subclasses of this class,\nconfigured with different default settings."}),"\n",(0,t.jsxs)(n.p,{children:["To modify auto reply, override ",(0,t.jsx)(n.code,{children:"generate_reply"})," method.\nTo disable/enable human response in every turn, set ",(0,t.jsx)(n.code,{children:"human_input_mode"}),' to "NEVER" or "ALWAYS".\nTo modify the way to get human input, override ',(0,t.jsx)(n.code,{children:"get_human_input"})," method.\nTo modify the way to execute code blocks, single code block, or function call, override ",(0,t.jsx)(n.code,{children:"execute_code_blocks"}),",\n",(0,t.jsx)(n.code,{children:"run_code"}),", and ",(0,t.jsx)(n.code,{children:"execute_function"})," methods respectively."]}),"\n",(0,t.jsx)(n.h4,{id:"default_config",children:"DEFAULT_CONFIG"}),"\n",(0,t.jsx)(n.p,{children:"False or dict, the default config for llm inference"}),"\n",(0,t.jsx)(n.h4,{id:"max_consecutive_auto_reply",children:"MAX_CONSECUTIVE_AUTO_REPLY"}),"\n",(0,t.jsx)(n.p,{children:"maximum number of consecutive auto replies (subject to future change)"}),"\n",(0,t.jsx)(n.h3,{id:"__init__",children:"__init__"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def __init__(name: str,\n             system_message: Optional[Union[\n                 str, List]] = "You are a helpful AI Assistant.",\n             is_termination_msg: Optional[Callable[[Dict], bool]] = None,\n             max_consecutive_auto_reply: Optional[int] = None,\n             human_input_mode: Literal["ALWAYS", "NEVER",\n                                       "TERMINATE"] = "TERMINATE",\n             function_map: Optional[Dict[str, Callable]] = None,\n             code_execution_config: Union[Dict, Literal[False]] = False,\n             llm_config: Optional[Union[Dict, Literal[False]]] = None,\n             default_auto_reply: Union[str, Dict] = "",\n             description: Optional[str] = None,\n             chat_messages: Optional[Dict[Agent, List[Dict]]] = None,\n             silent: Optional[bool] = None)\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"name"})," ",(0,t.jsx)(n.em,{children:"str"})," - name of the agent."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"system_message"})," ",(0,t.jsx)(n.em,{children:"str or list"})," - system message for the ChatCompletion inference."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"is_termination_msg"})," ",(0,t.jsx)(n.em,{children:"function"}),' - a function that takes a message in the form of a dictionary\nand returns a boolean value indicating if this received message is a termination message.\nThe dict can contain the following keys: "content", "role", "name", "function_call".']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"max_consecutive_auto_reply"})," ",(0,t.jsx)(n.em,{children:"int"})," - the maximum number of consecutive auto replies.\ndefault to None (no limit provided, class attribute MAX_CONSECUTIVE_AUTO_REPLY will be used as the limit in this case).\nWhen set to 0, no auto reply will be generated."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"human_input_mode"})," ",(0,t.jsx)(n.em,{children:"str"}),' - whether to ask for human inputs every time a message is received.\nPossible values are "ALWAYS", "TERMINATE", "NEVER".\n(1) When "ALWAYS", the agent prompts for human input every time a message is received.\nUnder this mode, the conversation stops when the human input is "exit",\nor when is_termination_msg is True and there is no human input.\n(2) When "TERMINATE", the agent only prompts for human input only when a termination message is received or\nthe number of auto reply reaches the max_consecutive_auto_reply.\n(3) When "NEVER", the agent will never prompt for human input. Under this mode, the conversation stops\nwhen the number of auto reply reaches the max_consecutive_auto_reply or when is_termination_msg is True.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"function_map"})," ",(0,t.jsx)(n.em,{children:"dict[str, callable]"})," - Mapping function names (passed to openai) to callable functions, also used for tool calls."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"code_execution_config"})," ",(0,t.jsx)(n.em,{children:"dict or False"})," - config for the code execution.\nTo disable code execution, set to False. Otherwise, set to a dictionary with the following keys:\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'work_dir (Optional, str): The working directory for the code execution.\nIf None, a default working directory will be used.\nThe default working directory is the "extensions" directory under\n"path_to_autogen".'}),"\n",(0,t.jsx)(n.li,{children:"use_docker (Optional, list, str or bool): The docker image to use for code execution.\nDefault is True, which means the code will be executed in a docker container. A default list of images will be used.\nIf a list or a str of image name(s) is provided, the code will be executed in a docker container\nwith the first image successfully pulled.\nIf False, the code will be executed in the current environment.\nWe strongly recommend using docker for code execution."}),"\n",(0,t.jsx)(n.li,{children:"timeout (Optional, int): The maximum execution time in seconds."}),"\n",(0,t.jsx)(n.li,{children:"last_n_messages (Experimental, int or str): The number of messages to look back for code execution.\nIf set to 'auto', it will scan backwards through all messages arriving since the agent last spoke, which is typically the last time execution was attempted. (Default: auto)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"llm_config"})," ",(0,t.jsx)(n.em,{children:"dict or False or None"})," - llm inference configuration.\nPlease refer to ",(0,t.jsx)(n.a,{href:"/docs/reference/oai/client#create",children:"OpenAIWrapper.create"}),"\nfor available options.\nWhen using OpenAI or Azure OpenAI endpoints, please specify a non-empty 'model' either in ",(0,t.jsx)(n.code,{children:"llm_config"})," or in each config of 'config_list' in ",(0,t.jsx)(n.code,{children:"llm_config"}),".\nTo disable llm-based auto reply, set to False.\nWhen set to None, will use self.DEFAULT_CONFIG, which defaults to False."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"default_auto_reply"})," ",(0,t.jsx)(n.em,{children:"str or dict"})," - default auto reply when no code execution or llm-based reply is generated."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"description"})," ",(0,t.jsx)(n.em,{children:"str"})," - a short description of the agent. This description is used by other agents\n(e.g. the GroupChatManager) to decide when to call upon this agent. (Default: system_message)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"chat_messages"})," ",(0,t.jsx)(n.em,{children:"dict or None"})," - the previous chat messages that this agent had in the past with other agents.\nCan be used to give the agent a memory by providing the chat history. This will allow the agent to\nresume previous had conversations. Defaults to an empty chat history."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"silent"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - (Experimental) whether to print the message sent. If None, will use the value of\nsilent in each function."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"name",children:"name"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef name() -> str\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the name of the agent."}),"\n",(0,t.jsx)(n.h3,{id:"description",children:"description"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef description() -> str\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the description of the agent."}),"\n",(0,t.jsx)(n.h3,{id:"description-1",children:"description"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@description.setter\ndef description(description: str)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Set the description of the agent."}),"\n",(0,t.jsx)(n.h3,{id:"code_executor",children:"code_executor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef code_executor() -> Optional[CodeExecutor]\n"})}),"\n",(0,t.jsx)(n.p,{children:"The code executor used by this agent. Returns None if code execution is disabled."}),"\n",(0,t.jsx)(n.h3,{id:"register_reply",children:"register_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_reply(trigger: Union[Type[Agent], str, Agent,\n                                  Callable[[Agent], bool], List],\n                   reply_func: Callable,\n                   position: int = 0,\n                   config: Optional[Any] = None,\n                   reset_config: Optional[Callable] = None,\n                   *,\n                   ignore_async_in_sync_chat: bool = False,\n                   remove_other_reply_funcs: bool = False)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Register a reply function."}),"\n",(0,t.jsx)(n.p,{children:"The reply function will be called when the trigger matches the sender.\nThe function registered later will be checked earlier by default.\nTo change the order, set the position to a positive integer."}),"\n",(0,t.jsxs)(n.p,{children:["Both sync and async reply functions can be registered. The sync reply function will be triggered\nfrom both sync and async chats. However, an async reply function will only be triggered from async\nchats (initiated with ",(0,t.jsx)(n.code,{children:"ConversableAgent.a_initiate_chat"}),"). If an ",(0,t.jsx)(n.code,{children:"async"})," reply function is registered\nand a chat is initialized with a sync function, ",(0,t.jsx)(n.code,{children:"ignore_async_in_sync_chat"})," determines the behaviour as follows:\nif ",(0,t.jsx)(n.code,{children:"ignore_async_in_sync_chat"})," is set to ",(0,t.jsx)(n.code,{children:"False"})," (default value), an exception will be raised, and\nif ",(0,t.jsx)(n.code,{children:"ignore_async_in_sync_chat"})," is set to ",(0,t.jsx)(n.code,{children:"True"}),", the reply function will be ignored."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"trigger"})," ",(0,t.jsx)(n.em,{children:"Agent class, str, Agent instance, callable, or list"})," - the trigger.\nIf a class is provided, the reply function will be called when the sender is an instance of the class.\nIf a string is provided, the reply function will be called when the sender's name matches the string.\nIf an agent instance is provided, the reply function will be called when the sender is the agent instance.\nIf a callable is provided, the reply function will be called when the callable returns True.\nIf a list is provided, the reply function will be called when any of the triggers in the list is activated.\nIf None is provided, the reply function will be called only when the sender is None."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Note"})," - Be sure to register ",(0,t.jsx)(n.code,{children:"None"})," as a trigger if you would like to trigger an auto-reply function with non-empty messages and ",(0,t.jsx)(n.code,{children:"sender=None"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"reply_func"})," ",(0,t.jsx)(n.em,{children:"Callable"})," - the reply function.\nThe function takes a recipient agent, a list of messages, a sender agent and a config as input and returns a reply message."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"  ```python\n  def reply_func(\n      recipient: ConversableAgent,\n      messages: Optional[List[Dict]] = None,\n      sender: Optional[Agent] = None,\n      config: Optional[Any] = None,\n  ) -> Tuple[bool, Union[str, Dict, None]]:\n  ```\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"position"})," ",(0,t.jsx)(n.em,{children:"int"})," - the position of the reply function in the reply function list.\nThe function registered later will be checked earlier by default.\nTo change the order, set the position to a positive integer."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"config"})," ",(0,t.jsx)(n.em,{children:"Any"})," - the config to be passed to the reply function.\nWhen an agent is reset, the config will be reset to the original value."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"reset_config"})," ",(0,t.jsx)(n.em,{children:"Callable"})," - the function to reset the config.\nThe function returns None. Signature: ",(0,t.jsx)(n.code,{children:"def reset_config(config: Any)"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ignore_async_in_sync_chat"})," ",(0,t.jsx)(n.em,{children:"bool"})," - whether to ignore the async reply function in sync chats. If ",(0,t.jsx)(n.code,{children:"False"}),", an exception\nwill be raised if an async reply function is registered and a chat is initialized with a sync\nfunction."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"remove_other_reply_funcs"})," ",(0,t.jsx)(n.em,{children:"bool"})," - whether to remove other reply functions when registering this reply function."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"replace_reply_func",children:"replace_reply_func"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def replace_reply_func(old_reply_func: Callable, new_reply_func: Callable)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Replace a registered reply function with a new one."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"old_reply_func"})," ",(0,t.jsx)(n.em,{children:"Callable"})," - the old reply function to be replaced."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"new_reply_func"})," ",(0,t.jsx)(n.em,{children:"Callable"})," - the new reply function to replace the old one."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"register_nested_chats",children:"register_nested_chats"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def register_nested_chats(chat_queue: List[Dict[str, Any]],\n                          trigger: Union[Type[Agent], str, Agent,\n                                         Callable[[Agent], bool], List],\n                          reply_func_from_nested_chats: Union[\n                              str, Callable] = "summary_from_nested_chats",\n                          position: int = 2,\n                          use_async: Union[bool, None] = None,\n                          **kwargs) -> None\n'})}),"\n",(0,t.jsx)(n.p,{children:"Register a nested chat reply function."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"chat_queue"})," ",(0,t.jsx)(n.em,{children:"list"})," - a list of chat objects to be initiated. If use_async is used, then all messages in chat_queue must have a chat-id associated with them."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"trigger"})," ",(0,t.jsx)(n.em,{children:"Agent class, str, Agent instance, callable, or list"})," - refer to ",(0,t.jsx)(n.code,{children:"register_reply"})," for details."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"reply_func_from_nested_chats"})," ",(0,t.jsx)(n.em,{children:"Callable, str"}),' - the reply function for the nested chat.\nThe function takes a chat_queue for nested chat, recipient agent, a list of messages, a sender agent and a config as input and returns a reply message.\nDefault to "summary_from_nested_chats", which corresponds to a built-in reply function that get summary from the nested chat_queue.\n',(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def reply_func_from_nested_chats(\n    chat_queue: List[Dict],\n    recipient: ConversableAgent,\n    messages: Optional[List[Dict]] = None,\n    sender: Optional[Agent] = None,\n    config: Optional[Any] = None,\n) -> Tuple[bool, Union[str, Dict, None]]:\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"position"})," ",(0,t.jsx)(n.em,{children:"int"})," - Ref to ",(0,t.jsx)(n.code,{children:"register_reply"})," for details. Default to 2. It means we first check the termination and human reply, then check the registered nested chat reply."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"use_async"})," - Uses a_initiate_chats internally to start nested chats. If the original chat is initiated with a_initiate_chats, you may set this to true so nested chats do not run in sync."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"kwargs"})," - Ref to ",(0,t.jsx)(n.code,{children:"register_reply"})," for details."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"system_message",children:"system_message"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef system_message() -> str\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return the system message."}),"\n",(0,t.jsx)(n.h3,{id:"update_system_message",children:"update_system_message"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def update_system_message(system_message: str) -> None\n"})}),"\n",(0,t.jsx)(n.p,{children:"Update the system message."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"system_message"})," ",(0,t.jsx)(n.em,{children:"str"})," - system message for the ChatCompletion inference."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"update_max_consecutive_auto_reply",children:"update_max_consecutive_auto_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def update_max_consecutive_auto_reply(value: int,\n                                      sender: Optional[Agent] = None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Update the maximum number of consecutive auto replies."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"value"})," ",(0,t.jsx)(n.em,{children:"int"})," - the maximum number of consecutive auto replies."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sender"})," ",(0,t.jsx)(n.em,{children:"Agent"})," - when the sender is provided, only update the max_consecutive_auto_reply for that sender."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"max_consecutive_auto_reply-1",children:"max_consecutive_auto_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def max_consecutive_auto_reply(sender: Optional[Agent] = None) -> int\n"})}),"\n",(0,t.jsx)(n.p,{children:"The maximum number of consecutive auto replies."}),"\n",(0,t.jsx)(n.h3,{id:"chat_messages",children:"chat_messages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef chat_messages() -> Dict[Agent, List[Dict]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"A dictionary of conversations from agent to list of messages."}),"\n",(0,t.jsx)(n.h3,{id:"chat_messages_for_summary",children:"chat_messages_for_summary"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def chat_messages_for_summary(agent: Agent) -> List[Dict]\n"})}),"\n",(0,t.jsx)(n.p,{children:"A list of messages as a conversation to summarize."}),"\n",(0,t.jsx)(n.h3,{id:"last_message",children:"last_message"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def last_message(agent: Optional[Agent] = None) -> Optional[Dict]\n"})}),"\n",(0,t.jsx)(n.p,{children:"The last message exchanged with the agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"agent"})," ",(0,t.jsx)(n.em,{children:"Agent"})," - The agent in the conversation.\nIf None and more than one agent's conversations are found, an error will be raised.\nIf None and only one conversation is found, the last message of the only conversation will be returned."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"The last message exchanged with the agent."}),"\n",(0,t.jsx)(n.h3,{id:"use_docker",children:"use_docker"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef use_docker() -> Union[bool, str, None]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Bool value of whether to use docker to execute the code,\nor str value of the docker image name to use, or None when code execution is disabled."}),"\n",(0,t.jsx)(n.h3,{id:"send",children:"send"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def send(message: Union[Dict, str],\n         recipient: Agent,\n         request_reply: Optional[bool] = None,\n         silent: Optional[bool] = False)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Send a message to another agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"message"})," ",(0,t.jsx)(n.em,{children:"dict or str"})," - message to be sent.\nThe message could contain the following fields:\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"content (str or List): Required, the content of the message. (Can be None)"}),"\n",(0,t.jsx)(n.li,{children:"function_call (str): the name of the function to be called."}),"\n",(0,t.jsx)(n.li,{children:"name (str): the name of the function to be called."}),"\n",(0,t.jsx)(n.li,{children:'role (str): the role of the message, any role that is not "function"\nwill be modified to "assistant".'}),"\n",(0,t.jsxs)(n.li,{children:["context (dict): the context of the message, which will be passed to\n",(0,t.jsx)(n.a,{href:"../oai/client#create",children:"OpenAIWrapper.create"}),".\nFor example, one agent can send a message A as:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'{\n    "content": lambda context: context["use_tool_msg"],\n    "context": {\n        "use_tool_msg": "Use tool X if they are relevant."\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:'Next time, one agent can send a message B with a different "use_tool_msg".\nThen the content of message A will be refreshed to the new "use_tool_msg".\nSo effectively, this provides a way for an agent to send a "link" and modify\nthe content of the "link" later.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"recipient"})," ",(0,t.jsx)(n.em,{children:"Agent"})," - the recipient of the message."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"request_reply"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - whether to request a reply from the recipient."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"silent"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - (Experimental) whether to print the message sent."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ValueError"})," - if the message can't be converted into a valid ChatCompletion message."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"a_send",children:"a_send"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_send(message: Union[Dict, str],\n                 recipient: Agent,\n                 request_reply: Optional[bool] = None,\n                 silent: Optional[bool] = False)\n"})}),"\n",(0,t.jsx)(n.p,{children:"(async) Send a message to another agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"message"})," ",(0,t.jsx)(n.em,{children:"dict or str"})," - message to be sent.\nThe message could contain the following fields:\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"content (str or List): Required, the content of the message. (Can be None)"}),"\n",(0,t.jsx)(n.li,{children:"function_call (str): the name of the function to be called."}),"\n",(0,t.jsx)(n.li,{children:"name (str): the name of the function to be called."}),"\n",(0,t.jsx)(n.li,{children:'role (str): the role of the message, any role that is not "function"\nwill be modified to "assistant".'}),"\n",(0,t.jsxs)(n.li,{children:["context (dict): the context of the message, which will be passed to\n",(0,t.jsx)(n.a,{href:"../oai/client#create",children:"OpenAIWrapper.create"}),".\nFor example, one agent can send a message A as:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'{\n    "content": lambda context: context["use_tool_msg"],\n    "context": {\n        "use_tool_msg": "Use tool X if they are relevant."\n    }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:'Next time, one agent can send a message B with a different "use_tool_msg".\nThen the content of message A will be refreshed to the new "use_tool_msg".\nSo effectively, this provides a way for an agent to send a "link" and modify\nthe content of the "link" later.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"recipient"})," ",(0,t.jsx)(n.em,{children:"Agent"})," - the recipient of the message."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"request_reply"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - whether to request a reply from the recipient."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"silent"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - (Experimental) whether to print the message sent."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ValueError"})," - if the message can't be converted into a valid ChatCompletion message."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"receive",children:"receive"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def receive(message: Union[Dict, str],\n            sender: Agent,\n            request_reply: Optional[bool] = None,\n            silent: Optional[bool] = False)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Receive a message from another agent."}),"\n",(0,t.jsx)(n.p,{children:"Once a message is received, this function sends a reply to the sender or stop.\nThe reply can be generated automatically or entered manually by a human."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"message"})," ",(0,t.jsx)(n.em,{children:"dict or str"})," - message from the sender. If the type is dict, it may contain the following reserved fields (either content or function_call need to be provided).\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'"content": content of the message, can be None.'}),"\n",(0,t.jsx)(n.li,{children:'"function_call": a dictionary containing the function name and arguments. (deprecated in favor of "tool_calls")'}),"\n",(0,t.jsx)(n.li,{children:'"tool_calls": a list of dictionaries containing the function name and arguments.'}),"\n",(0,t.jsx)(n.li,{children:'"role": role of the message, can be "assistant", "user", "function", "tool".\nThis field is only needed to distinguish between "function" or "assistant"/"user".'}),"\n",(0,t.jsx)(n.li,{children:'"name": In most cases, this field is not needed. When the role is "function", this field is needed to indicate the function name.'}),"\n",(0,t.jsxs)(n.li,{children:['"context" (dict): the context of the message, which will be passed to\n',(0,t.jsx)(n.a,{href:"../oai/client#create",children:"OpenAIWrapper.create"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sender"})," - sender of an Agent instance."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"request_reply"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - whether a reply is requested from the sender.\nIf None, the value is determined by ",(0,t.jsx)(n.code,{children:"self.reply_at_receive[sender]"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"silent"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - (Experimental) whether to print the message received."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ValueError"})," - if the message can't be converted into a valid ChatCompletion message."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"a_receive",children:"a_receive"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_receive(message: Union[Dict, str],\n                    sender: Agent,\n                    request_reply: Optional[bool] = None,\n                    silent: Optional[bool] = False)\n"})}),"\n",(0,t.jsx)(n.p,{children:"(async) Receive a message from another agent."}),"\n",(0,t.jsx)(n.p,{children:"Once a message is received, this function sends a reply to the sender or stop.\nThe reply can be generated automatically or entered manually by a human."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"message"})," ",(0,t.jsx)(n.em,{children:"dict or str"})," - message from the sender. If the type is dict, it may contain the following reserved fields (either content or function_call need to be provided).\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'"content": content of the message, can be None.'}),"\n",(0,t.jsx)(n.li,{children:'"function_call": a dictionary containing the function name and arguments. (deprecated in favor of "tool_calls")'}),"\n",(0,t.jsx)(n.li,{children:'"tool_calls": a list of dictionaries containing the function name and arguments.'}),"\n",(0,t.jsx)(n.li,{children:'"role": role of the message, can be "assistant", "user", "function".\nThis field is only needed to distinguish between "function" or "assistant"/"user".'}),"\n",(0,t.jsx)(n.li,{children:'"name": In most cases, this field is not needed. When the role is "function", this field is needed to indicate the function name.'}),"\n",(0,t.jsxs)(n.li,{children:['"context" (dict): the context of the message, which will be passed to\n',(0,t.jsx)(n.a,{href:"../oai/client#create",children:"OpenAIWrapper.create"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sender"})," - sender of an Agent instance."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"request_reply"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - whether a reply is requested from the sender.\nIf None, the value is determined by ",(0,t.jsx)(n.code,{children:"self.reply_at_receive[sender]"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"silent"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - (Experimental) whether to print the message received."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ValueError"})," - if the message can't be converted into a valid ChatCompletion message."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"initiate_chat",children:"initiate_chat"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def initiate_chat(recipient: "ConversableAgent",\n                  clear_history: bool = True,\n                  silent: Optional[bool] = False,\n                  cache: Optional[AbstractCache] = None,\n                  max_turns: Optional[int] = None,\n                  summary_method: Optional[Union[\n                      str, Callable]] = DEFAULT_SUMMARY_METHOD,\n                  summary_args: Optional[dict] = {},\n                  message: Optional[Union[Dict, str, Callable]] = None,\n                  **kwargs) -> ChatResult\n'})}),"\n",(0,t.jsx)(n.p,{children:"Initiate a chat with the recipient agent."}),"\n",(0,t.jsxs)(n.p,{children:["Reset the consecutive auto reply counter.\nIf ",(0,t.jsx)(n.code,{children:"clear_history"})," is True, the chat history with the recipient agent will be cleared."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"recipient"})," - the recipient agent."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"clear_history"})," ",(0,t.jsx)(n.em,{children:"bool"})," - whether to clear the chat history with the agent. Default is True."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"silent"})," ",(0,t.jsx)(n.em,{children:"bool or None"})," - (Experimental) whether to print the messages for this conversation. Default is False."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"cache"})," ",(0,t.jsx)(n.em,{children:"AbstractCache or None"})," - the cache client to be used for this conversation. Default is None."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"max_turns"})," ",(0,t.jsx)(n.em,{children:"int or None"})," - the maximum number of turns for the chat between the two agents. One turn means one conversation round trip. Note that this is different from\n",(0,t.jsx)(n.a,{href:"#max_consecutive_auto_reply",children:"max_consecutive_auto_reply"})," which is the maximum number of consecutive auto replies; and it is also different from ",(0,t.jsx)(n.a,{href:"./groupchat#groupchat-objects",children:"max_rounds in GroupChat"})," which is the maximum number of rounds in a group chat session.\nIf max_turns is set to None, the chat will continue until a termination condition is met. Default is None."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"summary_method"})," ",(0,t.jsx)(n.em,{children:"str or callable"}),' - a method to get a summary from the chat. Default is DEFAULT_SUMMARY_METHOD, i.e., "last_msg".']}),"\n",(0,t.jsx)(n.p,{children:'Supported strings are "last_msg" and "reflection_with_llm":'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'when set to "last_msg", it returns the last message of the dialog as the summary.'}),"\n",(0,t.jsxs)(n.li,{children:['when set to "reflection_with_llm", it returns a summary extracted using an llm client.\n',(0,t.jsx)(n.code,{children:"llm_config"})," must be set in either the recipient or sender."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"A callable summary_method should take the recipient and sender agent in a chat as input and return a string of summary. E.g.,"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def my_summary_method(\n    sender: ConversableAgent,\n    recipient: ConversableAgent,\n    summary_args: dict,\n):\n    return recipient.last_message(sender)["content"]\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"summary_args"})," ",(0,t.jsx)(n.em,{children:"dict"}),' - a dictionary of arguments to be passed to the summary_method.\nOne example key is "summary_prompt", and value is a string of text used to prompt a LLM-based agent (the sender or receiver agent) to reflect\non the conversation and extract a summary when summary_method is "reflection_with_llm".\nThe default summary_prompt is DEFAULT_SUMMARY_PROMPT, i.e., "Summarize takeaway from the conversation. Do not add any introductory phrases. If the intended request is NOT properly addressed, please point it out."\nAnother available key is "summary_role", which is the role of the message sent to the agent in charge of summarizing. Default is "system".']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"message"})," ",(0,t.jsx)(n.em,{children:"str, dict or Callable"})," - the initial message to be sent to the recipient. Needs to be provided. Otherwise, input() will be called to get the initial message."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["If a string or a dict is provided, it will be used as the initial message.        ",(0,t.jsx)(n.code,{children:"generate_init_message"})," is called to generate the initial message for the agent based on this string and the context.\nIf dict, it may contain the following reserved fields (either content or tool_calls need to be provided)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'"content": content of the message, can be None.'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'"function_call": a dictionary containing the function name and arguments. (deprecated in favor of "tool_calls")'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'"tool_calls": a list of dictionaries containing the function name and arguments.'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'"role": role of the message, can be "assistant", "user", "function".\nThis field is only needed to distinguish between "function" or "assistant"/"user".'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'"name": In most cases, this field is not needed. When the role is "function", this field is needed to indicate the function name.'}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:['"context" (dict): the context of the message, which will be passed to\n',(0,t.jsx)(n.a,{href:"../oai/client#create",children:"OpenAIWrapper.create"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If a callable is provided, it will be called to get the initial message in the form of a string or a dict.\nIf the returned type is dict, it may contain the reserved fields mentioned above."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example of a callable message (returning a string):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def my_message(sender: ConversableAgent, recipient: ConversableAgent, context: dict) -> Union[str, Dict]:\n    carryover = context.get("carryover", "")\n    if isinstance(message, list):\n        carryover = carryover[-1]\n    final_msg = "Write a blogpost." + "\\nContext: \\n" + carryover\n    return final_msg\n'})}),"\n",(0,t.jsx)(n.p,{children:"Example of a callable message (returning a dict):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def my_message(sender: ConversableAgent, recipient: ConversableAgent, context: dict) -> Union[str, Dict]:\n    final_msg = {}\n    carryover = context.get("carryover", "")\n    if isinstance(message, list):\n        carryover = carryover[-1]\n    final_msg["content"] = "Write a blogpost." + "\\nContext: \\n" + carryover\n    final_msg["context"] = {"prefix": "Today I feel"}\n    return final_msg\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"**kwargs"})," - any additional information. It has the following reserved fields:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['"carryover": a string or a list of string to specify the carryover information to be passed to this chat.\nIf provided, we will combine this carryover (by attaching a "context: " string and the carryover content after the message content) with the "message" content when generating the initial chat\nmessage in ',(0,t.jsx)(n.code,{children:"generate_init_message"}),"."]}),"\n",(0,t.jsx)(n.li,{children:'"verbose": a boolean to specify whether to print the message and carryover in a chat. Default is False.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RuntimeError"})," - if any async reply functions are registered and not ignored in sync chat."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ChatResult"})," - an ChatResult object."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"a_initiate_chat",children:"a_initiate_chat"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'async def a_initiate_chat(recipient: "ConversableAgent",\n                          clear_history: bool = True,\n                          silent: Optional[bool] = False,\n                          cache: Optional[AbstractCache] = None,\n                          max_turns: Optional[int] = None,\n                          summary_method: Optional[Union[\n                              str, Callable]] = DEFAULT_SUMMARY_METHOD,\n                          summary_args: Optional[dict] = {},\n                          message: Optional[Union[str, Callable]] = None,\n                          **kwargs) -> ChatResult\n'})}),"\n",(0,t.jsx)(n.p,{children:"(async) Initiate a chat with the recipient agent."}),"\n",(0,t.jsxs)(n.p,{children:["Reset the consecutive auto reply counter.\nIf ",(0,t.jsx)(n.code,{children:"clear_history"})," is True, the chat history with the recipient agent will be cleared.\n",(0,t.jsx)(n.code,{children:"a_generate_init_message"})," is called to generate the initial message for the agent."]}),"\n",(0,t.jsxs)(n.p,{children:["Args: Please refer to ",(0,t.jsx)(n.code,{children:"initiate_chat"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ChatResult"})," - an ChatResult object."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"initiate_chats",children:"initiate_chats"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def initiate_chats(chat_queue: List[Dict[str, Any]]) -> List[ChatResult]\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) Initiate chats with multiple agents."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"chat_queue"})," ",(0,t.jsx)(n.em,{children:"List[Dict]"})," - a list of dictionaries containing the information of the chats.\nEach dictionary should contain the input arguments for ",(0,t.jsx)(n.a,{href:"conversable_agent#initiate_chat",children:(0,t.jsx)(n.code,{children:"initiate_chat"})})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Returns"})," - a list of ChatResult objects corresponding to the finished chats in the chat_queue."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"get_chat_results",children:"get_chat_results"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def get_chat_results(\n        chat_index: Optional[int] = None\n) -> Union[List[ChatResult], ChatResult]\n"})}),"\n",(0,t.jsx)(n.p,{children:"A summary from the finished chats of particular agents."}),"\n",(0,t.jsx)(n.h3,{id:"reset",children:"reset"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def reset()\n"})}),"\n",(0,t.jsx)(n.p,{children:"Reset the agent."}),"\n",(0,t.jsx)(n.h3,{id:"stop_reply_at_receive",children:"stop_reply_at_receive"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def stop_reply_at_receive(sender: Optional[Agent] = None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Reset the reply_at_receive of the sender."}),"\n",(0,t.jsx)(n.h3,{id:"reset_consecutive_auto_reply_counter",children:"reset_consecutive_auto_reply_counter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def reset_consecutive_auto_reply_counter(sender: Optional[Agent] = None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Reset the consecutive_auto_reply_counter of the sender."}),"\n",(0,t.jsx)(n.h3,{id:"clear_history",children:"clear_history"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def clear_history(recipient: Optional[Agent] = None,\n                  nr_messages_to_preserve: Optional[int] = None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Clear the chat history of the agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"recipient"})," - the agent with whom the chat history to clear. If None, clear the chat history with all agents."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"nr_messages_to_preserve"})," - the number of newest messages to preserve in the chat history."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"generate_oai_reply",children:"generate_oai_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def generate_oai_reply(\n    messages: Optional[List[Dict]] = None,\n    sender: Optional[Agent] = None,\n    config: Optional[OpenAIWrapper] = None\n) -> Tuple[bool, Union[str, Dict, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using autogen.oai."}),"\n",(0,t.jsx)(n.h3,{id:"a_generate_oai_reply",children:"a_generate_oai_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_generate_oai_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[str, Dict, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using autogen.oai asynchronously."}),"\n",(0,t.jsx)(n.h3,{id:"generate_code_execution_reply",children:"generate_code_execution_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def generate_code_execution_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Union[Dict, Literal[False]]] = None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using code execution."}),"\n",(0,t.jsx)(n.h3,{id:"generate_function_call_reply",children:"generate_function_call_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def generate_function_call_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[Dict, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using function call."}),"\n",(0,t.jsxs)(n.p,{children:['"function_call" replaced by "tool_calls" as of ',(0,t.jsx)(n.a,{href:"https://github.com/openai/openai-python/releases/tag/v1.1.0",children:"OpenAI API v1.1.0"}),"\nSee ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions",children:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions"})]}),"\n",(0,t.jsx)(n.h3,{id:"a_generate_function_call_reply",children:"a_generate_function_call_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_generate_function_call_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[Dict, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using async function call."}),"\n",(0,t.jsxs)(n.p,{children:['"function_call" replaced by "tool_calls" as of ',(0,t.jsx)(n.a,{href:"https://github.com/openai/openai-python/releases/tag/v1.1.0",children:"OpenAI API v1.1.0"}),"\nSee ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions",children:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-functions"})]}),"\n",(0,t.jsx)(n.h3,{id:"generate_tool_calls_reply",children:"generate_tool_calls_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def generate_tool_calls_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[Dict, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using tool call."}),"\n",(0,t.jsx)(n.h3,{id:"a_generate_tool_calls_reply",children:"a_generate_tool_calls_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_generate_tool_calls_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[Dict, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate a reply using async function call."}),"\n",(0,t.jsx)(n.h3,{id:"check_termination_and_human_reply",children:"check_termination_and_human_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def check_termination_and_human_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[str, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Check if the conversation should be terminated, and if human reply is provided."}),"\n",(0,t.jsx)(n.p,{children:"This method checks for conditions that require the conversation to be terminated, such as reaching\na maximum number of consecutive auto-replies or encountering a termination message. Additionally,\nit prompts for and processes human input based on the configured human input mode, which can be\n'ALWAYS', 'NEVER', or 'TERMINATE'. The method also manages the consecutive auto-reply counter\nfor the conversation and prints relevant messages based on the human input received."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"messages (Optional[List[Dict]]): A list of message dictionaries, representing the conversation history."}),"\n",(0,t.jsx)(n.li,{children:"sender (Optional[Agent]): The agent object representing the sender of the message."}),"\n",(0,t.jsx)(n.li,{children:"config (Optional[Any]): Configuration object, defaults to the current instance if not provided."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tuple[bool, Union[str, Dict, None]]: A tuple containing a boolean indicating if the conversation\nshould be terminated, and a human reply which can be a string, a dictionary, or None."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"a_check_termination_and_human_reply",children:"a_check_termination_and_human_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_check_termination_and_human_reply(\n        messages: Optional[List[Dict]] = None,\n        sender: Optional[Agent] = None,\n        config: Optional[Any] = None) -> Tuple[bool, Union[str, None]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"(async) Check if the conversation should be terminated, and if human reply is provided."}),"\n",(0,t.jsx)(n.p,{children:"This method checks for conditions that require the conversation to be terminated, such as reaching\na maximum number of consecutive auto-replies or encountering a termination message. Additionally,\nit prompts for and processes human input based on the configured human input mode, which can be\n'ALWAYS', 'NEVER', or 'TERMINATE'. The method also manages the consecutive auto-reply counter\nfor the conversation and prints relevant messages based on the human input received."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"messages (Optional[List[Dict]]): A list of message dictionaries, representing the conversation history."}),"\n",(0,t.jsx)(n.li,{children:"sender (Optional[Agent]): The agent object representing the sender of the message."}),"\n",(0,t.jsx)(n.li,{children:"config (Optional[Any]): Configuration object, defaults to the current instance if not provided."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tuple[bool, Union[str, Dict, None]]: A tuple containing a boolean indicating if the conversation\nshould be terminated, and a human reply which can be a string, a dictionary, or None."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"generate_reply",children:"generate_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def generate_reply(messages: Optional[List[Dict[str, Any]]] = None,\n                   sender: Optional["Agent"] = None,\n                   **kwargs: Any) -> Union[str, Dict, None]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Reply based on the conversation history and the sender."}),"\n",(0,t.jsxs)(n.p,{children:["Either messages or sender must be provided.\nRegister a reply_func with ",(0,t.jsx)(n.code,{children:"None"})," as one trigger for it to be activated when ",(0,t.jsx)(n.code,{children:"messages"})," is non-empty and ",(0,t.jsx)(n.code,{children:"sender"})," is ",(0,t.jsx)(n.code,{children:"None"}),".\nUse registered auto reply functions to generate replies.\nBy default, the following functions are checked in order:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"check_termination_and_human_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_function_call_reply (deprecated in favor of tool_calls)"}),"\n",(0,t.jsx)(n.li,{children:"generate_tool_calls_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_code_execution_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_oai_reply\nEvery function returns a tuple (final, reply).\nWhen a function returns final=False, the next function will be checked.\nSo by default, termination and human reply will be checked first.\nIf not terminating and human reply is skipped, execute function or code and return the result.\nAI replies are generated only when no code execution is performed."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"messages"})," - a list of messages in the conversation history."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sender"})," - sender of an Agent instance."]}),"\n",(0,t.jsx)(n.p,{children:"Additional keyword arguments:"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"exclude"})," ",(0,t.jsx)(n.em,{children:"List[Callable]"})," - a list of reply functions to be excluded."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"str or dict or None: reply. None if no reply is generated."}),"\n",(0,t.jsx)(n.h3,{id:"a_generate_reply",children:"a_generate_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'async def a_generate_reply(messages: Optional[List[Dict[str, Any]]] = None,\n                           sender: Optional["Agent"] = None,\n                           **kwargs: Any) -> Union[str, Dict[str, Any], None]\n'})}),"\n",(0,t.jsx)(n.p,{children:"(async) Reply based on the conversation history and the sender."}),"\n",(0,t.jsxs)(n.p,{children:["Either messages or sender must be provided.\nRegister a reply_func with ",(0,t.jsx)(n.code,{children:"None"})," as one trigger for it to be activated when ",(0,t.jsx)(n.code,{children:"messages"})," is non-empty and ",(0,t.jsx)(n.code,{children:"sender"})," is ",(0,t.jsx)(n.code,{children:"None"}),".\nUse registered auto reply functions to generate replies.\nBy default, the following functions are checked in order:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"check_termination_and_human_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_function_call_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_tool_calls_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_code_execution_reply"}),"\n",(0,t.jsx)(n.li,{children:"generate_oai_reply\nEvery function returns a tuple (final, reply).\nWhen a function returns final=False, the next function will be checked.\nSo by default, termination and human reply will be checked first.\nIf not terminating and human reply is skipped, execute function or code and return the result.\nAI replies are generated only when no code execution is performed."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"messages"})," - a list of messages in the conversation history."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sender"})," - sender of an Agent instance."]}),"\n",(0,t.jsx)(n.p,{children:"Additional keyword arguments:"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"exclude"})," ",(0,t.jsx)(n.em,{children:"List[Callable]"})," - a list of reply functions to be excluded."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"str or dict or None: reply. None if no reply is generated."}),"\n",(0,t.jsx)(n.h3,{id:"get_human_input",children:"get_human_input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def get_human_input(prompt: str) -> str\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get human input."}),"\n",(0,t.jsx)(n.p,{children:"Override this method to customize the way to get human input."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prompt"})," ",(0,t.jsx)(n.em,{children:"str"})," - prompt for the human input."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"str"})," - human input."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"a_get_human_input",children:"a_get_human_input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_get_human_input(prompt: str) -> str\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Async) Get human input."}),"\n",(0,t.jsx)(n.p,{children:"Override this method to customize the way to get human input."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prompt"})," ",(0,t.jsx)(n.em,{children:"str"})," - prompt for the human input."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"str"})," - human input."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"run_code",children:"run_code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def run_code(code, **kwargs)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run the code and return the result."}),"\n",(0,t.jsx)(n.p,{children:"Override this function to modify the way to run the code."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"code"})," ",(0,t.jsx)(n.em,{children:"str"})," - the code to be executed."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"**kwargs"})," - other keyword arguments."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"A tuple of (exitcode, logs, image)."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"exitcode"})," ",(0,t.jsx)(n.em,{children:"int"})," - the exit code of the code execution."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"logs"})," ",(0,t.jsx)(n.em,{children:"str"})," - the logs of the code execution."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"image"})," ",(0,t.jsx)(n.em,{children:"str or None"})," - the docker image used for the code execution."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"execute_code_blocks",children:"execute_code_blocks"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def execute_code_blocks(code_blocks)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Execute the code blocks and return the result."}),"\n",(0,t.jsx)(n.h3,{id:"execute_function",children:"execute_function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def execute_function(func_call,\n                     verbose: bool = False) -> Tuple[bool, Dict[str, str]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Execute a function call and return the result."}),"\n",(0,t.jsx)(n.p,{children:"Override this function to modify the way to execute function and tool calls."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"func_call"}),' - a dictionary extracted from openai message at "function_call" or "tool_calls" with keys "name" and "arguments".']}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"A tuple of (is_exec_success, result_dict)."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"is_exec_success"})," ",(0,t.jsx)(n.em,{children:"boolean"})," - whether the execution is successful."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"result_dict"}),' - a dictionary with keys "name", "role", and "content". Value of "role" is "function".']}),"\n",(0,t.jsxs)(n.p,{children:['"function_call" deprecated as of ',(0,t.jsx)(n.a,{href:"https://github.com/openai/openai-python/releases/tag/v1.1.0",children:"OpenAI API v1.1.0"}),"\nSee ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call",children:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"a_execute_function",children:"a_execute_function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_execute_function(func_call)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Execute an async function call and return the result."}),"\n",(0,t.jsx)(n.p,{children:"Override this function to modify the way async functions and tools are executed."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"func_call"}),' - a dictionary extracted from openai message at key "function_call" or "tool_calls" with keys "name" and "arguments".']}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"A tuple of (is_exec_success, result_dict)."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"is_exec_success"})," ",(0,t.jsx)(n.em,{children:"boolean"})," - whether the execution is successful."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"result_dict"}),' - a dictionary with keys "name", "role", and "content". Value of "role" is "function".']}),"\n",(0,t.jsxs)(n.p,{children:['"function_call" deprecated as of ',(0,t.jsx)(n.a,{href:"https://github.com/openai/openai-python/releases/tag/v1.1.0",children:"OpenAI API v1.1.0"}),"\nSee ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call",children:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"generate_init_message",children:"generate_init_message"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def generate_init_message(message: Union[Dict, str, None],\n                          **kwargs) -> Union[str, Dict]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate the initial message for the agent.\nIf message is None, input() will be called to get the initial message."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"message"})," ",(0,t.jsx)(n.em,{children:"str or None"})," - the message to be processed."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"**kwargs"})," - any additional information. It has the following reserved fields:"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:'"carryover"'}),' - a string or a list of string to specify the carryover information to be passed to this chat. It can be a string or a list of string.\nIf provided, we will combine this carryover with the "message" content when generating the initial chat\nmessage.']}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"str or dict: the processed message."}),"\n",(0,t.jsx)(n.h3,{id:"a_generate_init_message",children:"a_generate_init_message"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"async def a_generate_init_message(message: Union[Dict, str, None],\n                                  **kwargs) -> Union[str, Dict]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate the initial message for the agent.\nIf message is None, input() will be called to get the initial message."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.p,{children:["Please refer to ",(0,t.jsx)(n.code,{children:"generate_init_message"})," for the description of the arguments."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"str or dict: the processed message."}),"\n",(0,t.jsx)(n.h3,{id:"register_function",children:"register_function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_function(function_map: Dict[str, Union[Callable, None]])\n"})}),"\n",(0,t.jsx)(n.p,{children:"Register functions to the agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"function_map"})," - a dictionary mapping function names to functions. if function_map[name] is None, the function will be removed from the function_map."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"update_function_signature",children:"update_function_signature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def update_function_signature(func_sig: Union[str, Dict], is_remove: None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"update a function_signature in the LLM configuration for function_call."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"func_sig"})," ",(0,t.jsx)(n.em,{children:"str or dict"})," - description/name of the function to update/remove to the model. See: ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat/create-functions",children:"https://platform.openai.com/docs/api-reference/chat/create#chat/create-functions"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"is_remove"})," - whether removing the function from llm_config with name 'func_sig'"]}),"\n",(0,t.jsxs)(n.p,{children:["Deprecated as of ",(0,t.jsx)(n.a,{href:"https://github.com/openai/openai-python/releases/tag/v1.1.0",children:"OpenAI API v1.1.0"}),"\nSee ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call",children:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-function_call"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"update_tool_signature",children:"update_tool_signature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def update_tool_signature(tool_sig: Union[str, Dict], is_remove: None)\n"})}),"\n",(0,t.jsx)(n.p,{children:"update a tool_signature in the LLM configuration for tool_call."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tool_sig"})," ",(0,t.jsx)(n.em,{children:"str or dict"})," - description/name of the tool to update/remove to the model. See: ",(0,t.jsx)(n.a,{href:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-tools",children:"https://platform.openai.com/docs/api-reference/chat/create#chat-create-tools"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"is_remove"})," - whether removing the tool from llm_config with name 'tool_sig'"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"can_execute_function",children:"can_execute_function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def can_execute_function(name: Union[List[str], str]) -> bool\n"})}),"\n",(0,t.jsx)(n.p,{children:"Whether the agent can execute the function."}),"\n",(0,t.jsx)(n.h3,{id:"function_map",children:"function_map"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef function_map() -> Dict[str, Callable]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return the function map."}),"\n",(0,t.jsx)(n.h3,{id:"register_for_llm",children:"register_for_llm"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def register_for_llm(\n        *,\n        name: Optional[str] = None,\n        description: Optional[str] = None,\n        api_style: Literal["function", "tool"] = "tool") -> Callable[[F], F]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Decorator factory for registering a function to be used by an agent."}),"\n",(0,t.jsx)(n.p,{children:"It's return value is used to decorate a function to be registered to the agent. The function uses type hints to\nspecify the arguments and return type. The function name is used as the default name for the function,\nbut a custom name can be provided. The function description is used to describe the function in the\nagent's configuration."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"name (optional(str)): name of the function. If None, the function name will be used (default: None).\ndescription (optional(str)): description of the function (default: None). It is mandatory\nfor the initial decorator, but the following ones can omit it."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"api_style"})," - (literal): the API style for function call.\nFor Azure OpenAI API, use version 2023-12-01-preview or later.\n",(0,t.jsx)(n.code,{children:'"function"'})," style will be deprecated. For earlier version use\n",(0,t.jsx)(n.code,{children:'"function"'})," if ",(0,t.jsx)(n.code,{children:'"tool"'})," doesn't work.\nSee ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling?tabs=python",children:"Azure OpenAI documentation"})," for details."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"The decorator for registering a function to be used by an agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'```\n@user_proxy.register_for_execution()\n@agent2.register_for_llm()\n@agent1.register_for_llm(description="This is a very useful function")\ndef my_function(a: Annotated[str, "description of a parameter"] = "a", b: int, c=3.14) -> str:\n     return a + str(b * c)\n```\n'})}),"\n",(0,t.jsxs)(n.p,{children:["For Azure OpenAI versions prior to 2023-12-01-preview, set ",(0,t.jsx)(n.code,{children:"api_style"}),"\nto ",(0,t.jsx)(n.code,{children:'"function"'})," if ",(0,t.jsx)(n.code,{children:'"tool"'})," doesn't work:\n",(0,t.jsx)(n.code,{children:'    @agent2.register_for_llm(api_style="function")     def my_function(a: Annotated[str, "description of a parameter"] = "a", b: int, c=3.14) -> str:          return a + str(b * c)    '})]}),"\n",(0,t.jsx)(n.h3,{id:"register_for_execution",children:"register_for_execution"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_for_execution(name: Optional[str] = None) -> Callable[[F], F]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Decorator factory for registering a function to be executed by an agent."}),"\n",(0,t.jsx)(n.p,{children:"It's return value is used to decorate a function to be registered to the agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"name (optional(str)): name of the function. If None, the function name will be used (default: None)."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"The decorator for registering a function to be used by an agent."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'```\n@user_proxy.register_for_execution()\n@agent2.register_for_llm()\n@agent1.register_for_llm(description="This is a very useful function")\ndef my_function(a: Annotated[str, "description of a parameter"] = "a", b: int, c=3.14):\n     return a + str(b * c)\n```\n'})}),"\n",(0,t.jsx)(n.h3,{id:"register_model_client",children:"register_model_client"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_model_client(model_client_cls: ModelClient, **kwargs)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Register a model client."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"model_client_cls"})," - A custom client class that follows the Client interface"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"**kwargs"})," - The kwargs for the custom client class to be initialized with"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"register_hook",children:"register_hook"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_hook(hookable_method: str, hook: Callable)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Registers a hook to be called by a hookable method, in order to add a capability to the agent.\nRegistered hooks are kept in lists (one per hookable method), and are called in their order of registration."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hookable_method"})," - A hookable method name implemented by ConversableAgent."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hook"})," - A method implemented by a subclass of AgentCapability."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"process_all_messages_before_reply",children:"process_all_messages_before_reply"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def process_all_messages_before_reply(messages: List[Dict]) -> List[Dict]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Calls any registered capability hooks to process all messages, potentially modifying the messages."}),"\n",(0,t.jsx)(n.h3,{id:"process_last_received_message",children:"process_last_received_message"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def process_last_received_message(messages: List[Dict]) -> List[Dict]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Calls any registered capability hooks to use and potentially modify the text of the last message,\nas long as the last message is not a function call or exit command."}),"\n",(0,t.jsx)(n.h3,{id:"print_usage_summary",children:"print_usage_summary"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def print_usage_summary(\n        mode: Union[str, List[str]] = ["actual", "total"]) -> None\n'})}),"\n",(0,t.jsx)(n.p,{children:"Print the usage summary."}),"\n",(0,t.jsx)(n.h3,{id:"get_actual_usage",children:"get_actual_usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def get_actual_usage() -> Union[None, Dict[str, int]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the actual usage summary."}),"\n",(0,t.jsx)(n.h3,{id:"get_total_usage",children:"get_total_usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def get_total_usage() -> Union[None, Dict[str, int]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the total usage summary."}),"\n",(0,t.jsx)(n.h3,{id:"register_function-1",children:"register_function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_function(f: Callable[..., Any],\n                      *,\n                      caller: ConversableAgent,\n                      executor: ConversableAgent,\n                      name: Optional[str] = None,\n                      description: str) -> None\n"})}),"\n",(0,t.jsx)(n.p,{children:"Register a function to be proposed by an agent and executed for an executor."}),"\n",(0,t.jsxs)(n.p,{children:["This function can be used instead of function decorators ",(0,t.jsx)(n.code,{children:"@ConversationAgent.register_for_llm"})," and\n",(0,t.jsx)(n.code,{children:"@ConversationAgent.register_for_execution"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"f"})," - the function to be registered."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"caller"})," - the agent calling the function, typically an instance of ConversableAgent."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"executor"})," - the agent executing the function, typically an instance of UserProxy."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"name"})," - name of the function. If None, the function name will be used (default: None)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"description"})," - description of the function. The description is used by LLM to decode whether the function\nis called. Make sure the description is properly describing what the function does or it might not be\ncalled by LLM when needed."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>l});var t=s(67294);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);