"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9383],{72504:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>a,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var r=s(85893),t=s(11151);const o={sidebar_label:"websockets",title:"io.websockets"},l=void 0,c={id:"reference/io/websockets",title:"io.websockets",description:"ServerConnection",source:"@site/docs/reference/io/websockets.md",sourceDirName:"reference/io",slug:"/reference/io/websockets",permalink:"/autogen/docs/reference/io/websockets",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/autogen/edit/main/website/docs/reference/io/websockets.md",tags:[],version:"current",frontMatter:{sidebar_label:"websockets",title:"io.websockets"},sidebar:"referenceSideBar",previous:{title:"console",permalink:"/autogen/docs/reference/io/console"},next:{title:"base_logger",permalink:"/autogen/docs/reference/logger/base_logger"}},i={},d=[{value:"ServerConnection",id:"serverconnection",level:2},{value:"send",id:"send",level:3},{value:"recv",id:"recv",level:3},{value:"close",id:"close",level:3},{value:"WebSocketServer",id:"websocketserver",level:2},{value:"serve_forever",id:"serve_forever",level:3},{value:"shutdown",id:"shutdown",level:3},{value:"__enter__",id:"__enter__",level:3},{value:"__exit__",id:"__exit__",level:3},{value:"IOWebsockets",id:"iowebsockets",level:2},{value:"__init__",id:"__init__",level:3},{value:"run_server_in_thread",id:"run_server_in_thread",level:3},{value:"websocket",id:"websocket",level:3},{value:"print",id:"print",level:3},{value:"input",id:"input",level:3}];function h(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"serverconnection",children:"ServerConnection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ServerConnection(Protocol)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"send",children:"send"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def send(message: Union[Data, Iterable[Data]]) -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Send a message to the client."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"message"})," ",(0,r.jsx)(n.em,{children:"Union[Data, Iterable[Data]]"})," - The message to send."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"recv",children:"recv"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def recv(timeout: Optional[float] = None) -> Data\n"})}),"\n",(0,r.jsx)(n.p,{children:"Receive a message from the client."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"timeout"})," ",(0,r.jsx)(n.em,{children:"Optional[float], optional"})," - The timeout for the receive operation. Defaults to None."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Data"})," - The message received from the client."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"close",children:"close"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def close() -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Close the connection."}),"\n",(0,r.jsx)(n.h2,{id:"websocketserver",children:"WebSocketServer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class WebSocketServer(Protocol)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"serve_forever",children:"serve_forever"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def serve_forever() -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Run the server forever."}),"\n",(0,r.jsx)(n.h3,{id:"shutdown",children:"shutdown"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def shutdown() -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Shutdown the server."}),"\n",(0,r.jsx)(n.h3,{id:"__enter__",children:"__enter__"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def __enter__() -> "WebSocketServer"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Enter the server context."}),"\n",(0,r.jsx)(n.h3,{id:"__exit__",children:"__exit__"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def __exit__(exc_type: Any, exc_value: Any, traceback: Any) -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Exit the server context."}),"\n",(0,r.jsx)(n.h2,{id:"iowebsockets",children:"IOWebsockets"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class IOWebsockets(IOStream)\n"})}),"\n",(0,r.jsx)(n.p,{children:"A websocket input/output stream."}),"\n",(0,r.jsx)(n.h3,{id:"__init__",children:"__init__"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def __init__(websocket: ServerConnection) -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Initialize the websocket input/output stream."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"websocket"})," ",(0,r.jsx)(n.em,{children:"ServerConnection"})," - The websocket server."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ImportError"})," - If the websockets module is not available."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"run_server_in_thread",children:"run_server_in_thread"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@staticmethod\n@contextmanager\ndef run_server_in_thread(*,\n                         host: str = "127.0.0.1",\n                         port: int = 8765,\n                         on_connect: Callable[["IOWebsockets"], None],\n                         ssl_context: Optional[ssl.SSLContext] = None,\n                         **kwargs: Any) -> Iterator[str]\n'})}),"\n",(0,r.jsx)(n.p,{children:"Factory function to create a websocket input/output stream."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"host"})," ",(0,r.jsx)(n.em,{children:"str, optional"}),' - The host to bind the server to. Defaults to "127.0.0.1".']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"port"})," ",(0,r.jsx)(n.em,{children:"int, optional"})," - The port to bind the server to. Defaults to 8765."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"on_connect"})," ",(0,r.jsx)(n.em,{children:"Callable[[IOWebsockets], None]"})," - The function to be executed on client connection. Typically creates agents and initiate chat."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ssl_context"})," ",(0,r.jsx)(n.em,{children:"Optional[ssl.SSLContext], optional"})," - The SSL context to use for secure connections. Defaults to None."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"kwargs"})," ",(0,r.jsx)(n.em,{children:"Any"})," - Additional keyword arguments to pass to the websocket server."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Yields"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"str"})," - The URI of the websocket server."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"websocket",children:"websocket"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@property\ndef websocket() -> "ServerConnection"\n'})}),"\n",(0,r.jsx)(n.p,{children:"The URI of the websocket server."}),"\n",(0,r.jsx)(n.h3,{id:"print",children:"print"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def print(*objects: Any,\n          sep: str = " ",\n          end: str = "\\n",\n          flush: bool = False) -> None\n'})}),"\n",(0,r.jsx)(n.p,{children:"Print data to the output stream."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"objects"})," ",(0,r.jsx)(n.em,{children:"any"})," - The data to print."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sep"})," ",(0,r.jsx)(n.em,{children:"str, optional"}),' - The separator between objects. Defaults to " ".']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"end"})," ",(0,r.jsx)(n.em,{children:"str, optional"}),' - The end of the output. Defaults to "\n".']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"flush"})," ",(0,r.jsx)(n.em,{children:"bool, optional"})," - Whether to flush the output. Defaults to False."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"input",children:"input"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def input(prompt: str = "", *, password: bool = False) -> str\n'})}),"\n",(0,r.jsx)(n.p,{children:"Read a line from the input stream."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"prompt"})," ",(0,r.jsx)(n.em,{children:"str, optional"}),' - The prompt to display. Defaults to "".']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"password"})," ",(0,r.jsx)(n.em,{children:"bool, optional"})," - Whether to read a password. Defaults to False."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"str"})," - The line read from the input stream."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>l});var r=s(67294);const t={},o=r.createContext(t);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);