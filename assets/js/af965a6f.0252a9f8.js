"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3527],{85457:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>s});var t=o(85893),r=o(11151);const c={sidebar_label:"docker_commandline_code_executor",title:"coding.docker_commandline_code_executor"},i=void 0,d={id:"reference/coding/docker_commandline_code_executor",title:"coding.docker_commandline_code_executor",description:"DockerCommandLineCodeExecutor",source:"@site/docs/reference/coding/docker_commandline_code_executor.md",sourceDirName:"reference/coding",slug:"/reference/coding/docker_commandline_code_executor",permalink:"/autogen/docs/reference/coding/docker_commandline_code_executor",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/autogen/edit/main/website/docs/reference/coding/docker_commandline_code_executor.md",tags:[],version:"current",frontMatter:{sidebar_label:"docker_commandline_code_executor",title:"coding.docker_commandline_code_executor"},sidebar:"referenceSideBar",previous:{title:"base",permalink:"/autogen/docs/reference/coding/base"},next:{title:"factory",permalink:"/autogen/docs/reference/coding/factory"}},l={},s=[{value:"DockerCommandLineCodeExecutor",id:"dockercommandlinecodeexecutor",level:2},{value:"__init__",id:"__init__",level:3},{value:"timeout",id:"timeout",level:3},{value:"work_dir",id:"work_dir",level:3},{value:"bind_dir",id:"bind_dir",level:3},{value:"code_extractor",id:"code_extractor",level:3},{value:"execute_code_blocks",id:"execute_code_blocks",level:3},{value:"restart",id:"restart",level:3},{value:"stop",id:"stop",level:3}];function a(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"dockercommandlinecodeexecutor",children:"DockerCommandLineCodeExecutor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class DockerCommandLineCodeExecutor(CodeExecutor)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"__init__",children:"__init__"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def __init__(image: str = "python:3-slim",\n             container_name: Optional[str] = None,\n             timeout: int = 60,\n             work_dir: Union[Path, str] = Path("."),\n             bind_dir: Optional[Union[Path, str]] = None,\n             auto_remove: bool = True,\n             stop_container: bool = True,\n             execution_policies: Optional[Dict[str, bool]] = None)\n'})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) A code executor class that executes code through\na command line environment in a Docker container."}),"\n",(0,t.jsx)(n.p,{children:'The executor first saves each code block in a file in the working\ndirectory, and then executes the code file in the container.\nThe executor executes the code blocks in the order they are received.\nCurrently, the executor only supports Python and shell scripts.\nFor Python code, use the language "python" for the code block.\nFor shell scripts, use the language "bash", "shell", or "sh" for the code\nblock.'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"image"})," ",(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.em,{children:"type"}),", optional"]}),' - Docker image to use for code execution.\nDefaults to "python:3-slim".']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"container_name"})," ",(0,t.jsx)(n.em,{children:"Optional[str], optional"})," - Name of the Docker container\nwhich is created. If None, will autogenerate a name. Defaults to None."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"timeout"})," ",(0,t.jsx)(n.em,{children:"int, optional"})," - The timeout for code execution. Defaults to 60."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"work_dir"})," ",(0,t.jsx)(n.em,{children:"Union[Path, str], optional"}),' - The working directory for the code\nexecution. Defaults to Path(".").']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bind_dir"})," ",(0,t.jsx)(n.em,{children:"Union[Path, str], optional"})," - The directory that will be bound\nto the code executor container. Useful for cases where you want to spawn\nthe container from within a container. Defaults to work_dir."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"auto_remove"})," ",(0,t.jsx)(n.em,{children:"bool, optional"})," - If true, will automatically remove the Docker\ncontainer when it is stopped. Defaults to True."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"stop_container"})," ",(0,t.jsx)(n.em,{children:"bool, optional"})," - If true, will automatically stop the\ncontainer when stop is called, when the context manager exits or when\nthe Python process exits with atext. Defaults to True."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ValueError"})," - On argument error, or if the container fails to start."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"timeout",children:"timeout"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef timeout() -> int\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) The timeout for code execution."}),"\n",(0,t.jsx)(n.h3,{id:"work_dir",children:"work_dir"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef work_dir() -> Path\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) The working directory for the code execution."}),"\n",(0,t.jsx)(n.h3,{id:"bind_dir",children:"bind_dir"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef bind_dir() -> Path\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) The binding directory for the code execution container."}),"\n",(0,t.jsx)(n.h3,{id:"code_extractor",children:"code_extractor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"@property\ndef code_extractor() -> CodeExtractor\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) Export a code extractor that can be used by an agent."}),"\n",(0,t.jsx)(n.h3,{id:"execute_code_blocks",children:"execute_code_blocks"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def execute_code_blocks(code_blocks: List[CodeBlock]) -> CommandLineCodeResult\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) Execute the code blocks and return the result."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"code_blocks"})," ",(0,t.jsx)(n.em,{children:"List[CodeBlock]"})," - The code blocks to execute."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CommandlineCodeResult"})," - The result of the code execution."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"restart",children:"restart"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def restart() -> None\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) Restart the code executor."}),"\n",(0,t.jsx)(n.h3,{id:"stop",children:"stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def stop() -> None\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Experimental) Stop the code executor."})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>d,a:()=>i});var t=o(67294);const r={},c=t.createContext(r);function i(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);