<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-FAQ" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Frequently Asked Questions | AutoGen</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/autogen/docs/FAQ"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Frequently Asked Questions | AutoGen"><meta data-rh="true" name="description" content="Install the correct package - pyautogen"><meta data-rh="true" property="og:description" content="Install the correct package - pyautogen"><link data-rh="true" rel="icon" href="/autogen/img/ag.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/autogen/docs/FAQ"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/autogen/docs/FAQ" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/autogen/docs/FAQ" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/autogen/blog/rss.xml" title="AutoGen RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/autogen/blog/atom.xml" title="AutoGen Atom Feed">






<script>!function(e,t,n,c,s,a,r){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},(a=t.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/lnxpe6skj1",(r=t.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="/autogen/js/custom.js" async defer="defer"></script><link rel="stylesheet" href="/autogen/assets/css/styles.d8ef5d37.css">
<script src="/autogen/assets/js/runtime~main.33d2ca05.js" defer="defer"></script>
<script src="/autogen/assets/js/main.f5c79556.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">What's new in AutoGen? Read <a href="/autogen/blog/2024/03/03/AutoGen-Update">this blog</a> for an overview of updates</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/autogen/"><div class="navbar__logo"><img src="/autogen/img/ag.svg" alt="AutoGen" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/autogen/img/ag.svg" alt="AutoGen" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AutoGen</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/Getting-Started">Getting Started</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/installation/">Installation</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/tutorial/introduction">Tutorial</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/topics">User Guide</a></li><li><a class="dropdown__link" href="/autogen/docs/reference/agentchat/conversable_agent">API Reference</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/FAQ">FAQs</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/autogen-studio/getting-started">AutoGen Studio</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/ecosystem">Ecosystem</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/contributor-guide/contributing">Contributor Guide</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/autogen/docs/Research">Research</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Examples</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/autogen/docs/Examples">Examples by Category</a></li><li><a class="dropdown__link" href="/autogen/docs/notebooks">Examples by Notebook</a></li><li><a class="dropdown__link" href="/autogen/docs/Gallery">Application Gallery</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Other Languages</a><ul class="dropdown__menu"><li><a href="https://microsoft.github.io/autogen-for-net/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Dotnet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/autogen/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/autogen" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://aka.ms/autogen-dc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/pyautogen" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/autogen/docs/Getting-Started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/autogen/docs/installation/">Installation</a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/autogen/docs/tutorial">Tutorial</a><button aria-label="Collapse sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/chat-termination">Chat Termination</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/human-in-the-loop">Human in the Loop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/code-executors">Code Executors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/tool-use">Tool Use</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/conversation-patterns">Conversation Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/tutorial/what-next">What Next?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/autogen/docs/Use-Cases/agent_chat">Use Cases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/autogen/docs/topics">User Guide</a><button aria-label="Collapse sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/autogen/docs/topics/code-execution/cli-code-executor">Code Execution</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/autogen/docs/topics/openai-assistant/gpt_assistant_agent">OpenAI Assistant</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/autogen/docs/topics/groupchat/customized_speaker_selection">GroupChat</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/autogen/docs/topics/non-openai-models/about-using-nonopenai-models">Using Non-OpenAI Models</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/autogen/docs/topics/handling_long_contexts/compressing_text_w_llmligua">Handling Long Contexts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/topics/llm-caching">LLM Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/topics/llm-observability">Agent Observability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/topics/llm_configuration">LLM Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/autogen/docs/topics/prompting-and-reasoning/react">Prompting and Reasoning</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/topics/retrieval_augmentation">Retrieval Augmentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/autogen/docs/topics/task_decomposition">Task Decomposition</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/autogen/docs/reference/agentchat/conversable_agent">API Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/autogen/docs/FAQ">FAQs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/autogen/docs/autogen-studio">AutoGen Studio</a><button aria-label="Expand sidebar category &#x27;AutoGen Studio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/autogen/docs/ecosystem">Ecosystem</a><button aria-label="Expand sidebar category &#x27;Ecosystem&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/autogen/docs/contributor-guide">Contributor Guide</a><button aria-label="Expand sidebar category &#x27;Contributor Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/autogen/docs/Research">Research</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/autogen/docs/Migration-Guide">Migration Guide</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/autogen/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FAQs</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Frequently Asked Questions</h1>
<div class="tableOfContentsInline_prmo"><ul class="table-of-contents"><li><a href="#install-the-correct-package---pyautogen">Install the correct package - <code>pyautogen</code></a></li><li><a href="#set-your-api-endpoints">Set your API endpoints</a><ul><li><a href="#use-the-constructed-configuration-list-in-agents">Use the constructed configuration list in agents</a></li><li><a href="#how-does-an-agent-decide-which-model-to-pick-out-of-the-list">How does an agent decide which model to pick out of the list?</a></li><li><a href="#unexpected-keyword-argument-base_url">Unexpected keyword argument &#39;base_url&#39;</a></li><li><a href="#can-i-use-non-openai-models">Can I use non-OpenAI models?</a></li></ul></li><li><a href="#handle-rate-limit-error-and-timeout-error">Handle Rate Limit Error and Timeout Error</a></li><li><a href="#how-to-continue-a-finished-conversation">How to continue a finished conversation</a></li><li><a href="#max_consecutive_auto_reply-vs-max_turn-vs-max_round"><code>max_consecutive_auto_reply</code> vs <code>max_turn</code> vs <code>max_round</code></a></li><li><a href="#how-do-we-decide-what-llm-is-used-for-each-agent-how-many-agents-can-be-used-how-do-we-decide-how-many-agents-in-the-group">How do we decide what LLM is used for each agent? How many agents can be used? How do we decide how many agents in the group?</a></li><li><a href="#why-is-code-not-saved-as-file">Why is code not saved as file?</a></li><li><a href="#legacy-code-executor">Legacy code executor</a></li><li><a href="#agents-keep-thanking-each-other-when-using-gpt-35-turbo">Agents keep thanking each other when using <code>gpt-3.5-turbo</code></a></li><li><a href="#chromadb-fails-in-codespaces-because-of-old-version-of-sqlite3">ChromaDB fails in codespaces because of old version of sqlite3</a></li><li><a href="#how-to-register-a-reply-function">How to register a reply function</a></li><li><a href="#how-to-get-last-message-">How to get last message ?</a></li><li><a href="#how-to-get-each-agent-message-">How to get each agent message ?</a></li><li><a href="#when-using-autogen-docker-is-it-always-necessary-to-reinstall-modules">When using autogen docker, is it always necessary to reinstall modules?</a></li><li><a href="#database-locked-error">Database locked error</a></li><li><a href="#agents-are-throwing-due-to-docker-not-running-how-can-i-resolve-this">Agents are throwing due to docker not running, how can I resolve this?</a><ul><li><a href="#if-you-want-to-disable-code-execution-entirely">If you want to disable code execution entirely</a></li><li><a href="#if-you-want-to-run-code-execution-in-docker">If you want to run code execution in docker</a></li><li><a href="#if-you-want-to-run-code-execution-locally">If you want to run code execution locally</a></li><li><a href="#what-should-i-do-if-i-get-the-error-typeerror-assistantscreate-got-an-unexpected-keyword-argument-file_ids">What should I do if I get the error &quot;TypeError: Assistants.create() got an unexpected keyword argument &#39;file_ids&#39;&quot;?</a></li></ul></li><li><a href="#none-of-the-devcontainers-are-building-due-to-hash-sum-mismatch-what-should-i-do">None of the devcontainers are building due to &quot;Hash sum mismatch&quot;, what should I do?</a></li></ul></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-correct-package---pyautogen">Install the correct package - <code>pyautogen</code><a href="#install-the-correct-package---pyautogen" class="hash-link" aria-label="Direct link to install-the-correct-package---pyautogen" title="Direct link to install-the-correct-package---pyautogen">​</a></h2>
<p>The name of Autogen package at PyPI is <code>pyautogen</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install pyautogen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Typical errors that you might face when using the wrong package are <code>AttributeError: module &#x27;autogen&#x27; has no attribute &#x27;Agent&#x27;</code>, <code>AttributeError: module &#x27;autogen&#x27; has no attribute &#x27;config_list_from_json&#x27;</code> etc.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-your-api-endpoints">Set your API endpoints<a href="#set-your-api-endpoints" class="hash-link" aria-label="Direct link to Set your API endpoints" title="Direct link to Set your API endpoints">​</a></h2>
<p>This documentation has been moved <a href="/autogen/docs/topics/llm_configuration">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-the-constructed-configuration-list-in-agents">Use the constructed configuration list in agents<a href="#use-the-constructed-configuration-list-in-agents" class="hash-link" aria-label="Direct link to Use the constructed configuration list in agents" title="Direct link to Use the constructed configuration list in agents">​</a></h3>
<p>This documentation has been moved <a href="/autogen/docs/topics/llm_configuration">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-an-agent-decide-which-model-to-pick-out-of-the-list">How does an agent decide which model to pick out of the list?<a href="#how-does-an-agent-decide-which-model-to-pick-out-of-the-list" class="hash-link" aria-label="Direct link to How does an agent decide which model to pick out of the list?" title="Direct link to How does an agent decide which model to pick out of the list?">​</a></h3>
<p>This documentation has been moved <a href="/autogen/docs/topics/llm_configuration#how-does-an-agent-decide-which-model-to-pick-out-of-the-list">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unexpected-keyword-argument-base_url">Unexpected keyword argument &#x27;base_url&#x27;<a href="#unexpected-keyword-argument-base_url" class="hash-link" aria-label="Direct link to Unexpected keyword argument &#x27;base_url&#x27;" title="Direct link to Unexpected keyword argument &#x27;base_url&#x27;">​</a></h3>
<p>In version &gt;=1, OpenAI renamed their <code>api_base</code> parameter to <code>base_url</code>. So for older versions, use <code>api_base</code> but for newer versions use <code>base_url</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-use-non-openai-models">Can I use non-OpenAI models?<a href="#can-i-use-non-openai-models" class="hash-link" aria-label="Direct link to Can I use non-OpenAI models?" title="Direct link to Can I use non-OpenAI models?">​</a></h3>
<p>Yes. You currently have two options:</p>
<ul>
<li>Autogen can work with any API endpoint which complies with OpenAI-compatible RESTful APIs - e.g. serving local LLM via FastChat or LM Studio. Please check <a href="https://microsoft.github.io/autogen/blog/2023/07/14/Local-LLMs" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/autogen/blog/2023/07/14/Local-LLMs</a> for an example.</li>
<li>You can supply your own custom model implementation and use it with Autogen. Please check <a href="https://microsoft.github.io/autogen/blog/2024/01/26/Custom-Models" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/autogen/blog/2024/01/26/Custom-Models</a> for more information.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handle-rate-limit-error-and-timeout-error">Handle Rate Limit Error and Timeout Error<a href="#handle-rate-limit-error-and-timeout-error" class="hash-link" aria-label="Direct link to Handle Rate Limit Error and Timeout Error" title="Direct link to Handle Rate Limit Error and Timeout Error">​</a></h2>
<p>You can set <code>max_retries</code> to handle rate limit error. And you can set <code>timeout</code> to handle timeout error. They can all be specified in <code>llm_config</code> for an agent, which will be used in the OpenAI client for LLM inference. They can be set differently for different clients if they are set in the <code>config_list</code>.</p>
<ul>
<li><code>max_retries</code> (int): the total number of times allowed for retrying failed requests for a single client.</li>
<li><code>timeout</code> (int): the timeout (in seconds) for a single client.</li>
</ul>
<p>Please refer to the <a href="/autogen/docs/Use-Cases/enhanced_inference#runtime-error">documentation</a> for more info.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-continue-a-finished-conversation">How to continue a finished conversation<a href="#how-to-continue-a-finished-conversation" class="hash-link" aria-label="Direct link to How to continue a finished conversation" title="Direct link to How to continue a finished conversation">​</a></h2>
<p>When you call <code>initiate_chat</code> the conversation restarts by default. You can use <code>send</code> or <code>initiate_chat(clear_history=False)</code> to continue the conversation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="max_consecutive_auto_reply-vs-max_turn-vs-max_round"><code>max_consecutive_auto_reply</code> vs <code>max_turn</code> vs <code>max_round</code><a href="#max_consecutive_auto_reply-vs-max_turn-vs-max_round" class="hash-link" aria-label="Direct link to max_consecutive_auto_reply-vs-max_turn-vs-max_round" title="Direct link to max_consecutive_auto_reply-vs-max_turn-vs-max_round">​</a></h2>
<ul>
<li><a href="https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent#max_consecutive_auto_reply" target="_blank" rel="noopener noreferrer"><code>max_consecutive_auto_reply</code></a> the maximum number of consecutive auto replie (a reply from an agent without human input is considered an auto reply). It plays a role when <code>human_input_mode</code> is not &quot;ALWAYS&quot;.</li>
<li><a href="https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent#initiate_chat" target="_blank" rel="noopener noreferrer"><code>max_turns</code> in <code>ConversableAgent.initiate_chat</code></a> limits the number of conversation turns between two conversable agents (without differentiating auto-reply and reply/input from human)</li>
<li><a href="https://microsoft.github.io/autogen/docs/reference/agentchat/groupchat#groupchat-objects" target="_blank" rel="noopener noreferrer"><code>max_round</code> in GroupChat</a> specifies the maximum number of rounds in a group chat session.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-we-decide-what-llm-is-used-for-each-agent-how-many-agents-can-be-used-how-do-we-decide-how-many-agents-in-the-group">How do we decide what LLM is used for each agent? How many agents can be used? How do we decide how many agents in the group?<a href="#how-do-we-decide-what-llm-is-used-for-each-agent-how-many-agents-can-be-used-how-do-we-decide-how-many-agents-in-the-group" class="hash-link" aria-label="Direct link to How do we decide what LLM is used for each agent? How many agents can be used? How do we decide how many agents in the group?" title="Direct link to How do we decide what LLM is used for each agent? How many agents can be used? How do we decide how many agents in the group?">​</a></h2>
<p>Each agent can be customized. You can use LLMs, tools, or humans behind each agent. If you use an LLM for an agent, use the one best suited for its role. There is no limit of the number of agents, but start from a small number like 2, 3. The more capable is the LLM and the fewer roles you need, the fewer agents you need.</p>
<p>The default user proxy agent doesn&#x27;t use LLM. If you&#x27;d like to use an LLM in UserProxyAgent, the use case could be to simulate user&#x27;s behavior.</p>
<p>The default assistant agent is instructed to use both coding and language skills. It doesn&#x27;t have to do coding, depending on the tasks. And you can customize the system message. So if you want to use it for coding, use a model that&#x27;s good at coding.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-code-not-saved-as-file">Why is code not saved as file?<a href="#why-is-code-not-saved-as-file" class="hash-link" aria-label="Direct link to Why is code not saved as file?" title="Direct link to Why is code not saved as file?">​</a></h2>
<p>If you are using a custom system message for the coding agent, please include something like:
<code>If you want the user to save the code in a file before executing it, put # filename: &lt;filename&gt; inside the code block as the first line.</code>
in the system message. This line is in the default system message of the <code>AssistantAgent</code>.</p>
<p>If the <code># filename</code> doesn&#x27;t appear in the suggested code still, consider adding explicit instructions such as &quot;save the code to disk&quot; in the initial user message in <code>initiate_chat</code>.
The <code>AssistantAgent</code> doesn&#x27;t save all the code by default, because there are cases in which one would just like to finish a task without saving the code.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="legacy-code-executor">Legacy code executor<a href="#legacy-code-executor" class="hash-link" aria-label="Direct link to Legacy code executor" title="Direct link to Legacy code executor">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The new code executors offers more choices of execution backend.
Read more about <a href="/autogen/docs/tutorial/code-executors">code executors</a>.</p></div></div>
<p>The legacy code executor is used by specifying the <code>code_execution_config</code> in the agent&#x27;s constructor.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> autogen </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> UserProxyAgent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">user_proxy </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> UserProxyAgent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user_proxy&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    code_execution_config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;work_dir&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_output&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;use_docker&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;python:3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the <code>code_execution_config</code> specifies that the code will be
executed in a docker container with the image <code>python:3</code>.
By default, the image name is <code>python:3-slim</code> if not specified.
The <code>work_dir</code> specifies the directory where the code will be executed.
If you have problems with agents running <code>pip install</code> or get errors similar to
<code>Error while fetching server API version: (&#x27;Connection aborted.&#x27;, FileNotFoundError(2, &#x27;No such file or directory&#x27;)</code>,
you can choose <strong>&#x27;python:3&#x27;</strong> as image as shown in the code example above and
that should solve the problem.</p>
<p>By default it runs code in a docker container. If you want to run code locally
(not recommended) then <code>use_docker</code> can be set to <code>False</code> in <code>code_execution_config</code>
for each code-execution agent, or set <code>AUTOGEN_USE_DOCKER</code> to <code>False</code> as an
environment variable.</p>
<p>You can also develop your AutoGen application in a docker container.
For example, when developing in <a href="https://codespaces.new/microsoft/autogen?quickstart=1" target="_blank" rel="noopener noreferrer">GitHub codespace</a>,
AutoGen runs in a docker container.
If you are not developing in GitHub Codespaces,
follow instructions <a href="/autogen/docs/installation/Docker#option-1-install-and-run-autogen-in-docker">here</a>
to install and run AutoGen in docker.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="agents-keep-thanking-each-other-when-using-gpt-35-turbo">Agents keep thanking each other when using <code>gpt-3.5-turbo</code><a href="#agents-keep-thanking-each-other-when-using-gpt-35-turbo" class="hash-link" aria-label="Direct link to agents-keep-thanking-each-other-when-using-gpt-35-turbo" title="Direct link to agents-keep-thanking-each-other-when-using-gpt-35-turbo">​</a></h2>
<p>When using <code>gpt-3.5-turbo</code> you may often encounter agents going into a &quot;gratitude loop&quot;, meaning when they complete a task they will begin congratulating and thanking each other in a continuous loop. This is a limitation in the performance of <code>gpt-3.5-turbo</code>, in contrast to <code>gpt-4</code> which has no problem remembering instructions. This can hinder the experimentation experience when trying to test out your own use case with cheaper models.</p>
<p>A workaround is to add an additional termination notice to the prompt. This acts a &quot;little nudge&quot; for the LLM to remember that they need to terminate the conversation when their task is complete. You can do this by appending a string such as the following to your user input string:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prompt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Some user query&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">termination_notice </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\n\nDo not show appreciation in your responses, say only what is necessary. &#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;if &quot;Thank you&quot; or &quot;You\&#x27;re welcome&quot; are said in the conversation, then say TERMINATE &#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;to indicate the conversation is finished and this is your last message.&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prompt </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> termination_notice</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Note</strong>: This workaround gets the job done around 90% of the time, but there are occurrences where the LLM still forgets to terminate the conversation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chromadb-fails-in-codespaces-because-of-old-version-of-sqlite3">ChromaDB fails in codespaces because of old version of sqlite3<a href="#chromadb-fails-in-codespaces-because-of-old-version-of-sqlite3" class="hash-link" aria-label="Direct link to ChromaDB fails in codespaces because of old version of sqlite3" title="Direct link to ChromaDB fails in codespaces because of old version of sqlite3">​</a></h2>
<p>(from <a href="https://github.com/microsoft/autogen/issues/251" target="_blank" rel="noopener noreferrer">issue #251</a>)</p>
<p>Code examples that use chromadb (like retrieval) fail in codespaces due to a sqlite3 requirement.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; import chromadb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Traceback (most recent call last):</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  File &quot;/home/vscode/.local/lib/python3.10/site-packages/chromadb/__init__.py&quot;, line 69, in &lt;module&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    raise RuntimeError(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RuntimeError: Your system has an unsupported version of sqlite3. Chroma requires sqlite3 &gt;= 3.35.0.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Please visit https://docs.trychroma.com/troubleshooting#sqlite to learn how to upgrade.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Workaround:</p>
<ol>
<li><code>pip install pysqlite3-binary</code></li>
<li><code>mkdir /home/vscode/.local/lib/python3.10/site-packages/google/colab</code></li>
</ol>
<p>Explanation: Per <a href="https://gist.github.com/defulmere/8b9695e415a44271061cc8e272f3c300?permalink_comment_id=4711478#gistcomment-4711478" target="_blank" rel="noopener noreferrer">this gist</a>, linked from the official <a href="https://docs.trychroma.com/troubleshooting#sqlite" target="_blank" rel="noopener noreferrer">chromadb docs</a>, adding this folder triggers chromadb to use pysqlite3 instead of the default.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-register-a-reply-function">How to register a reply function<a href="#how-to-register-a-reply-function" class="hash-link" aria-label="Direct link to How to register a reply function" title="Direct link to How to register a reply function">​</a></h2>
<p>(from <a href="https://github.com/microsoft/autogen/issues/478" target="_blank" rel="noopener noreferrer">issue #478</a>)</p>
<p>See here <a href="https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent/#register_reply" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent/#register_reply</a></p>
<p>For example, you can register a reply function that gets called when <code>generate_reply</code> is called for an agent.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">print_messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">recipient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;callback&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> config </span><span class="token keyword" style="font-style:italic">and</span><span class="token plain">  config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;callback&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">is</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        callback </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;callback&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        callback</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> recipient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">f&quot;Messages sent to: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">recipient</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)"> | num messages: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(130, 170, 255)">len</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string-interpolation interpolation">messages</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># required to ensure the agent communication flow continues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">user_proxy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">register_reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">autogen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Agent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    reply_func</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">print_messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;callback&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">assistant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">register_reply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">autogen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Agent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    reply_func</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">print_messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;callback&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the above, we register a <code>print_messages</code> function that is called each time the agent&#x27;s <code>generate_reply</code> is triggered after receiving a message.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-get-last-message-">How to get last message ?<a href="#how-to-get-last-message-" class="hash-link" aria-label="Direct link to How to get last message ?" title="Direct link to How to get last message ?">​</a></h2>
<p>Refer to <a href="https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent/#last_message" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent/#last_message</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-get-each-agent-message-">How to get each agent message ?<a href="#how-to-get-each-agent-message-" class="hash-link" aria-label="Direct link to How to get each agent message ?" title="Direct link to How to get each agent message ?">​</a></h2>
<p>Please refer to <a href="https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent#chat_messages" target="_blank" rel="noopener noreferrer">https://microsoft.github.io/autogen/docs/reference/agentchat/conversable_agent#chat_messages</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-using-autogen-docker-is-it-always-necessary-to-reinstall-modules">When using autogen docker, is it always necessary to reinstall modules?<a href="#when-using-autogen-docker-is-it-always-necessary-to-reinstall-modules" class="hash-link" aria-label="Direct link to When using autogen docker, is it always necessary to reinstall modules?" title="Direct link to When using autogen docker, is it always necessary to reinstall modules?">​</a></h2>
<p>The &quot;use_docker&quot; arg in an agent&#x27;s code_execution_config will be set to the name of the image containing the change after execution, when the conversation finishes.
You can save that image name. For a new conversation, you can set &quot;use_docker&quot; to the saved name of the image to start execution there.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-locked-error">Database locked error<a href="#database-locked-error" class="hash-link" aria-label="Direct link to Database locked error" title="Direct link to Database locked error">​</a></h2>
<p>When using VMs such as Azure Machine Learning compute instances,
you may encounter a &quot;database locked error&quot;. This is because the
<a href="/autogen/docs/Use-Cases/agent_chat#cache">LLM cache</a>
is trying to write to a location that the application does not have access to.</p>
<p>You can set the <code>cache_path_root</code> to a location where the application has access.
For example,</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> autogen </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Cache</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> Cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">disk</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cache_path_root</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/tmp/.cache&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    agent_a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">initate_chat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">agent_b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cache</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can also use Redis cache instead of disk cache. For example,</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> autogen </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Cache</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> Cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">redis</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">redis_url</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    agent_a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">initate_chat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">agent_b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cache</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can also disable the cache. See <a href="/autogen/docs/Use-Cases/agent_chat#llm-caching">here</a> for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="agents-are-throwing-due-to-docker-not-running-how-can-i-resolve-this">Agents are throwing due to docker not running, how can I resolve this?<a href="#agents-are-throwing-due-to-docker-not-running-how-can-i-resolve-this" class="hash-link" aria-label="Direct link to Agents are throwing due to docker not running, how can I resolve this?" title="Direct link to Agents are throwing due to docker not running, how can I resolve this?">​</a></h2>
<p>If running AutoGen locally the default for agents who execute code is for them to try and perform code execution within a docker container. If docker is not running, this will cause the agent to throw an error. To resolve this you have some options.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-you-want-to-disable-code-execution-entirely">If you want to disable code execution entirely<a href="#if-you-want-to-disable-code-execution-entirely" class="hash-link" aria-label="Direct link to If you want to disable code execution entirely" title="Direct link to If you want to disable code execution entirely">​</a></h3>
<ul>
<li>Set <code>code_execution_config</code> to <code>False</code> for each code-execution agent. E.g.:</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">user_proxy </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> autogen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">UserProxyAgent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agent&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    llm_config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">llm_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    code_execution_config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-you-want-to-run-code-execution-in-docker">If you want to run code execution in docker<a href="#if-you-want-to-run-code-execution-in-docker" class="hash-link" aria-label="Direct link to If you want to run code execution in docker" title="Direct link to If you want to run code execution in docker">​</a></h3>
<ul>
<li><strong>Recommended</strong>: Make sure docker is up and running.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-you-want-to-run-code-execution-locally">If you want to run code execution locally<a href="#if-you-want-to-run-code-execution-locally" class="hash-link" aria-label="Direct link to If you want to run code execution locally" title="Direct link to If you want to run code execution locally">​</a></h3>
<ul>
<li><code>use_docker</code> can be set to <code>False</code> in <code>code_execution_config</code> for each code-execution agent.</li>
<li>To set it for all code-execution agents at once: set <code>AUTOGEN_USE_DOCKER</code> to <code>False</code> as an environment variable.</li>
</ul>
<p>E.g.:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">user_proxy </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> autogen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">UserProxyAgent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agent&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> llm_config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">llm_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    code_execution_config</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;work_dir&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;coding&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;use_docker&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-should-i-do-if-i-get-the-error-typeerror-assistantscreate-got-an-unexpected-keyword-argument-file_ids">What should I do if I get the error &quot;TypeError: Assistants.create() got an unexpected keyword argument &#x27;file_ids&#x27;&quot;?<a href="#what-should-i-do-if-i-get-the-error-typeerror-assistantscreate-got-an-unexpected-keyword-argument-file_ids" class="hash-link" aria-label="Direct link to What should I do if I get the error &quot;TypeError: Assistants.create() got an unexpected keyword argument &#x27;file_ids&#x27;&quot;?" title="Direct link to What should I do if I get the error &quot;TypeError: Assistants.create() got an unexpected keyword argument &#x27;file_ids&#x27;&quot;?">​</a></h3>
<p>This error typically occurs when using Autogen version earlier than 0.2.27 in combination with OpenAI library version 1.21 or later. The issue arises because the older version of Autogen does not support the file_ids parameter used by newer versions of the OpenAI API.
To resolve this issue, you need to upgrade your Autogen library to version 0.2.27 or higher that ensures compatibility between Autogen and the OpenAI library.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">upgrade autogen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="none-of-the-devcontainers-are-building-due-to-hash-sum-mismatch-what-should-i-do">None of the devcontainers are building due to &quot;Hash sum mismatch&quot;, what should I do?<a href="#none-of-the-devcontainers-are-building-due-to-hash-sum-mismatch-what-should-i-do" class="hash-link" aria-label="Direct link to None of the devcontainers are building due to &quot;Hash sum mismatch&quot;, what should I do?" title="Direct link to None of the devcontainers are building due to &quot;Hash sum mismatch&quot;, what should I do?">​</a></h2>
<p>This is an intermittent issue that appears to be caused by some combination of mirror and proxy issues.
If it arises, try to replace the <code>apt-get update</code> step with the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN echo &quot;Acquire::http::Pipeline-Depth 0;&quot; &gt; /etc/apt/apt.conf.d/99custom &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    echo &quot;Acquire::http::No-Cache true;&quot; &gt;&gt; /etc/apt/apt.conf.d/99custom &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    echo &quot;Acquire::BrokenProxy    true;&quot; &gt;&gt; /etc/apt/apt.conf.d/99custom</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN apt-get clean &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rm -r /var/lib/apt/lists/* &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    apt-get update -o Acquire::CompressionTypes::Order::=gz &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    apt-get -y update &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    apt-get install sudo git npm # and whatever packages need to be installed in this specific version of the devcontainer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is a combination of StackOverflow suggestions <a href="https://stackoverflow.com/a/48777773/2114580" target="_blank" rel="noopener noreferrer">here</a> and <a href="https://stackoverflow.com/a/76092743/2114580" target="_blank" rel="noopener noreferrer">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/microsoft/autogen/edit/main/website/docs/FAQ.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/autogen/docs/topics/task_decomposition"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Task Decomposition</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/autogen/docs/autogen-studio"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AutoGen Studio</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-the-correct-package---pyautogen" class="table-of-contents__link toc-highlight">Install the correct package - <code>pyautogen</code></a></li><li><a href="#set-your-api-endpoints" class="table-of-contents__link toc-highlight">Set your API endpoints</a><ul><li><a href="#use-the-constructed-configuration-list-in-agents" class="table-of-contents__link toc-highlight">Use the constructed configuration list in agents</a></li><li><a href="#how-does-an-agent-decide-which-model-to-pick-out-of-the-list" class="table-of-contents__link toc-highlight">How does an agent decide which model to pick out of the list?</a></li><li><a href="#unexpected-keyword-argument-base_url" class="table-of-contents__link toc-highlight">Unexpected keyword argument &#39;base_url&#39;</a></li><li><a href="#can-i-use-non-openai-models" class="table-of-contents__link toc-highlight">Can I use non-OpenAI models?</a></li></ul></li><li><a href="#handle-rate-limit-error-and-timeout-error" class="table-of-contents__link toc-highlight">Handle Rate Limit Error and Timeout Error</a></li><li><a href="#how-to-continue-a-finished-conversation" class="table-of-contents__link toc-highlight">How to continue a finished conversation</a></li><li><a href="#max_consecutive_auto_reply-vs-max_turn-vs-max_round" class="table-of-contents__link toc-highlight"><code>max_consecutive_auto_reply</code> vs <code>max_turn</code> vs <code>max_round</code></a></li><li><a href="#how-do-we-decide-what-llm-is-used-for-each-agent-how-many-agents-can-be-used-how-do-we-decide-how-many-agents-in-the-group" class="table-of-contents__link toc-highlight">How do we decide what LLM is used for each agent? How many agents can be used? How do we decide how many agents in the group?</a></li><li><a href="#why-is-code-not-saved-as-file" class="table-of-contents__link toc-highlight">Why is code not saved as file?</a></li><li><a href="#legacy-code-executor" class="table-of-contents__link toc-highlight">Legacy code executor</a></li><li><a href="#agents-keep-thanking-each-other-when-using-gpt-35-turbo" class="table-of-contents__link toc-highlight">Agents keep thanking each other when using <code>gpt-3.5-turbo</code></a></li><li><a href="#chromadb-fails-in-codespaces-because-of-old-version-of-sqlite3" class="table-of-contents__link toc-highlight">ChromaDB fails in codespaces because of old version of sqlite3</a></li><li><a href="#how-to-register-a-reply-function" class="table-of-contents__link toc-highlight">How to register a reply function</a></li><li><a href="#how-to-get-last-message-" class="table-of-contents__link toc-highlight">How to get last message ?</a></li><li><a href="#how-to-get-each-agent-message-" class="table-of-contents__link toc-highlight">How to get each agent message ?</a></li><li><a href="#when-using-autogen-docker-is-it-always-necessary-to-reinstall-modules" class="table-of-contents__link toc-highlight">When using autogen docker, is it always necessary to reinstall modules?</a></li><li><a href="#database-locked-error" class="table-of-contents__link toc-highlight">Database locked error</a></li><li><a href="#agents-are-throwing-due-to-docker-not-running-how-can-i-resolve-this" class="table-of-contents__link toc-highlight">Agents are throwing due to docker not running, how can I resolve this?</a><ul><li><a href="#if-you-want-to-disable-code-execution-entirely" class="table-of-contents__link toc-highlight">If you want to disable code execution entirely</a></li><li><a href="#if-you-want-to-run-code-execution-in-docker" class="table-of-contents__link toc-highlight">If you want to run code execution in docker</a></li><li><a href="#if-you-want-to-run-code-execution-locally" class="table-of-contents__link toc-highlight">If you want to run code execution locally</a></li><li><a href="#what-should-i-do-if-i-get-the-error-typeerror-assistantscreate-got-an-unexpected-keyword-argument-file_ids" class="table-of-contents__link toc-highlight">What should I do if I get the error &quot;TypeError: Assistants.create() got an unexpected keyword argument &#39;file_ids&#39;&quot;?</a></li></ul></li><li><a href="#none-of-the-devcontainers-are-building-due-to-hash-sum-mismatch-what-should-i-do" class="table-of-contents__link toc-highlight">None of the devcontainers are building due to &quot;Hash sum mismatch&quot;, what should I do?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aka.ms/autogen-dc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/pyautogen" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 AutoGen Authors |  <a target="_blank" style="color:#10adff" href="https://go.microsoft.com/fwlink/?LinkId=521839">Privacy and Cookies</a></div></div></div></footer></div>
</body>
</html>